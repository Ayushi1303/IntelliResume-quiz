{% extends "base.html" %}
{% block title %}IntelliResume â€” Company Recommendations{% endblock %}
{% block content %}
  <div class="card">
    <div class="card-header">
      <h2>Company Recommendations</h2>
    </div>
    <div class="card-body">
      <p class="meta">Roles matched to your skills. Explore openings by company.</p>
      <div class="grid" style="grid-template-columns: 1fr; gap: 16px;">
        {% for c in companies %}
          <div class="side">
            <div style="display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap;">
              <h3 style="margin:0">{{ c.company }}</h3>
              <span class="chip">{{ c.roles|length }} openings</span>
            </div>
            <div class="divider"></div>
            <div class="grid" style="grid-template-columns: repeat(auto-fill,minmax(260px,1fr)); gap: 12px;">
              {% for r in c.roles %}
                <div class="side" style="padding:14px;">
                  <h4 style="margin:0 0 6px 0;">{{ r.role }}</h4>
                  <p class="meta" style="margin:0 0 10px 0;">Matched Skill: <em>{{ r.skill }}</em></p>
                  <a class="btn" href="{{ r.url }}" target="_blank" rel="noopener noreferrer">View Opening</a>
                </div>
              {% endfor %}
            </div>
          </div>
        {% endfor %}
      </div>
      <div class="divider"></div>
      <div class="actions" style="justify-content:flex-start;">
        <a class="btn secondary" href="{{ url_for('resources') }}">Back to Resources</a>
        <a class="btn secondary" href="{{ url_for('index') }}">Upload New Resume</a>
      </div>
    </div>
  </div>
{% endblock %}
